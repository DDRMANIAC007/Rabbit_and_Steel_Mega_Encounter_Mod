####################################################################
####################################################################
newPattern,mbp_rabbit_queen_00m
time,0

move,bfCenterX+300,bfCenterY,500

time,1000
pattVarReset
pattVars,warningDelay;0,spawnDelay;2500,radius;300,angle;0,number;30,spd;20,doubled;true,warnMsg;2,element;red
pattAddPos,bp_prscircle,bfMinX+400,bfCenterY
anim,0,2500,5000

timeRepeating,2500,8700
pattAdd,mbp_rabbit_queen_01m
condHpThreshold,0.80
endPattern

####################################################################
####################################################################
newPattern,mbp_rabbit_queen_01m
time,0
setVar,startRand,random(360)
setVar,shot1A,startRand
setVar,shot2A,startRand
setVar,shot3A,startRand
condHpThreshold,0.80
pattAdd,mbp_rabbit_queen_10m
endPattern

timeRepeatTimes,100,150,51
setVar,shot1A,shot1A+6.5+random(1)
pattVars,spawnDelay;125,spawnDelay;125,angle;shot1A,ringNum;1,offset;0,spd_0;4.1,num;7,type;1
pattAddPos,bp_fire2_blast,enemyX,enemyY

timeRepeatTimes,300,250,30
setVar,shot2A,shot2A-10.5-random(1)
pattVars,spawnDelay;125,spawnDelay;125,angle;shot2A,ringNum;1,offset;0,spd_0;3.6,num;5,type;0
pattAddPos,bp_fire2_blast,enemyX,enemyY


timeRepeatTimes,500,400,18
setVar,shot3A,shot3A+25.5+random(1)
pattVars,warningDelay;125,spawnDelay;125,scale;0.45,spd;4.6,dir;shot3A
pattAddPos,bp_dark_moon_summon,enemyX,enemyY
pattVars,dir;shot3A+1*72
pattAddPos,bp_dark_moon_summon,enemyX,enemyY
pattVars,dir;shot3A+2*72
pattAddPos,bp_dark_moon_summon,enemyX,enemyY
pattVars,dir;shot3A+3*72
pattAddPos,bp_dark_moon_summon,enemyX,enemyY
pattVars,dir;shot3A+4*72
pattAddPos,bp_dark_moon_summon,enemyX,enemyY

timeRepeatTimes,1000,1000,6
pattVarReset
setVar,targetId,randomTargetId(all)
setVar,targetX,playerXPos(targetId)
setVar,targetY,playerYPos(targetId)
pattVars,warningDelay;0,spawnDelay;1500,radius;250,angle;0,number;30,spd;14,doubled;false,warnMsg;1,element;red
pattAddPos,bp_prscircle,targetX,targetY

####################################################################
####################################################################
newPattern,mbp_rabbit_queen_00m2v
time,0
pattVars,warningDelay;0,spawnDelay;4000,x;bfMinX+300,width;600,offset;0,spd;16,doubled;false,displayNumber;0,element;green,warnMsg;false,
pattAdd,bp_prsline_v


time,2000
move,bfCenterX-300,bfCenterY,500
pattVars,warningDelay;0,spawnDelay;5000,radius;160,trgBinary;all,warnMsg;1,
pattAdd,bp_circle_spreads


timeRepeating,3000,18000
pattAdd,mbp_rabbit_queen_01m2v




####################################################################
####################################################################
newPattern,mbp_rabbit_queen_01m2v
time,0
setVar,pizza,15
setVar,shotX,bfMaxX-300
setVar,shotY,bfCenterY
setVar,shotRand,random(360)
setVar,roundBaseX,bfCenterX-500
setVar,roundBaseY,bfCenterY
setVar,roundAng,360/13
setVar,roundScale,200
setVar,currentAng,0

setVar,dRingNum,diffSwitch(1>2>2)
setVar,dShotNum,diffSwitch(30>30>40)


pattVars,warningDelay;0,spawnDelay;4000,eraseDelay;16000,radius;150,num;12,rot;0,speedMult;1,width;50,shouldMove;true,
pattAddPos,bp_ray_spinning,enemyX,enemyY
pattVars,rot;pizza*5,num;1,width;90
pattAddPos,bp_ray_spinning,enemyX,enemyY
pattVars,rot;pizza*3,num;1,width;90
pattAddPos,bp_ray_spinning,enemyX,enemyY
pattVars,rot;pizza*1,num;1,width;90
pattAddPos,bp_ray_spinning,enemyX,enemyY
pattVars,rot;-pizza*1,num;1,width;90
pattAddPos,bp_ray_spinning,enemyX,enemyY
pattVars,rot;-pizza*3,num;1,width;90
pattAddPos,bp_ray_spinning,enemyX,enemyY
pattVars,rot;-pizza*5,num;1,width;90
pattAddPos,bp_ray_spinning,enemyX,enemyY
pattVars,rot;-pizza*7,num;1,width;90
pattAddPos,bp_ray_spinning,enemyX,enemyY
pattVars,rot;-pizza*9,num;1,width;90
pattAddPos,bp_ray_spinning,enemyX,enemyY

time,1000
pattVars,warningDelay;0,spawnDelay;1000,eraseDelay;11000,scale;1,type;1,numPoints;1,posX_0;shotX,posY_0;shotY
pattAdd,bp_dark_targeted

timeRepeatTimes,2000,1500,8
pattVars,warningDelay;0,spawnDelay;0,showWarning;false,ringNum;dRingNum,spd_0;4,spd_1;3,num;dShotNum,angle;shotRand,type;2,
pattAddPos,bp_fire2_blast,shotX,shotY
pattVars,angle;shotRand+1,
pattAddPos,bp_fire2_blast,shotX,shotY
pattVars,angle;shotRand+2,
pattAddPos,bp_fire2_blast,shotX,shotY
pattVars,angle;shotRand+3,
pattAddPos,bp_fire2_blast,shotX,shotY
pattVars,warningDelay;2000,spawnDelay;3500,radius;180,trgBinary;all,warnMsg;1,
pattAdd,bp_circle_spreads


timeRepeatTimes,4000,1000,13
setVar,currentAng,currentAng+roundAng
move,roundBaseX+roundScale*cos(currentAng),roundBaseY+roundScale*sin(currentAng),1500
condHpThreshold,0.75
pattAdd,mbp_rabbit_queen_10m
endPattern






####################################################################
####################################################################
newPattern,mbp_rabbit_queen_10m
time,0
erasePatterns


time,3000
move,bfMaxX-330,bfCenterY,1000

time,4000
pattVars,warningDelay;0,spawnDelay;4000,x;bfCenterX+100,width;300,offset;0,spd;10,doubled;2,displayNumber;0,element;blue,warnMsg;1
pattAdd,bp_prsline_v


timeRepeating,7500,2750
pattAdd,mbp_rabbit_queen_11m
condHpThreshold,0.53
endPattern

####################################################################
####################################################################
newPattern,mbp_rabbit_queen_11m
time,0
condHpThreshold,0.53
pattAdd,mbp_rabbit_queen_20m2v
endPattern

time,1000
anim,0,2000,3000
setVar,moonX,bfMinX+(bfWidth/5)+random(300)-150
setVar,moonY,bfCenterY+random(bfHeight/2)-bfHeight/4
setVar,dPrsShotNum,diffSwitch(10>20>28)
##pattVars,warningDelay;0,spawnDelay;2000,radius;300,numPoints;1,posX_0;moonX,posY_0;moonY
##pattAdd,bp_circle_position

pattVars,warningDelay;0,spawnDelay;2500,warningDelay2;2000,radius;300,fanAngle;13,trgBinary;all,warnMsg;2,displayNumber;0
pattAddPos,bp_clockspot,moonX,moonY


setVar,enRand,random(20)-10
pattVars,spawnDelay;0,spawnDelay;0,angle;enRand,offset;0,ringNum;2,spd_0;14,spd_1;10,num;1,type;0
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-120
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-100
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-80
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-60
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-40
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-20
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+120
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+100
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+80
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+60
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+40
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+20
pattAddPos,bp_fire2_blast,enemyX,enemyY

time,1500
setVar,starRand,random(360)
pattVars,warningDelay;1500,spawnDelay;1500,angle;starRand,radius;200,spd;4,element;blue,doubled;false,warnMsg;0,number;dPrsShotNum
pattAddPos,bp_prscircle,moonX,moonY
pattVars,warningDelay;1500,spawnDelay;1500,angle;starRand+2,radius;200,spd;4,element;blue,doubled;false,warnMsg;0,number;dPrsShotNum
pattAddPos,bp_prscircle,moonX,moonY

pattVars,warningDelay;1500,spawnDelay;1500,angle;starRand,radius;200,spd;7,element;blue,doubled;false,warnMsg;0,number;dPrsShotNum
pattAddPos,bp_prscircle,moonX,moonY
pattVars,warningDelay;1500,spawnDelay;1500,angle;starRand+2,radius;200,spd;7,element;blue,doubled;false,warnMsg;0,number;dPrsShotNum
pattAddPos,bp_prscircle,moonX,moonY


setVar,razerDst,400
setVar,aimAngle,0

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX0,px
setVar,posY0,py
setVar,rot0,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX1,px
setVar,posY1,py
setVar,rot1,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX2,px
setVar,posY2,py
setVar,rot2,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX3,px
setVar,posY3,py
setVar,rot3,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX4,px
setVar,posY4,py
setVar,rot4,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX5,px
setVar,posY5,py
setVar,rot5,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX6,px
setVar,posY6,py
setVar,rot6,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX7,px
setVar,posY7,py
setVar,rot7,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX8,px
setVar,posY8,py
setVar,rot8,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX9,px
setVar,posY9,py
setVar,rot9,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX10,px
setVar,posY10,py
setVar,rot10,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX11,px
setVar,posY11,py
setVar,rot11,pointFrom(px>py>moonX>moonY)+20

pattVars,warningDelay;500,spawnDelay;2000,eraseDelay;2700,timeBetween;0,width;20,numPoints;6,posX_0;posX0,posY_0;posY0,rot_0;rot0,posX_1;posX1,posY_1;posY1,rot_1;rot1,posX_2;posX2,posY_2;posY2,rot_2;rot2,posX_3;posX3,posY_3;posY3,rot_3;rot3,posX_4;posX4,posY_4;posY4,rot_4;rot4,posX_5;posX5,posY_5;posY5,rot_5;rot5
pattAdd,bp_ray_multi_slice
pattVars,posX_0;posX6,posY_0;posY6,rot_0;rot6,posX_1;posX7,posY_1;posY7,rot_1;rot7,posX_2;posX8,posY_2;posY8,rot_2;rot8,posX_3;posX9,posY_3;posY9,rot_3;rot9,posX_4;posX10,posY_4;posY10,rot_4;rot10,posX_5;posX11,posY_5;posY11,rot_5;rot11,
pattAdd,bp_ray_multi_slice

time,2000
setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX12,px
setVar,posY12,py
setVar,rot12,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX13,px
setVar,posY13,py
setVar,rot13,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX14,px
setVar,posY14,py
setVar,rot14,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX15,px
setVar,posY15,py
setVar,rot15,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX16,px
setVar,posY16,py
setVar,rot16,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX17,px
setVar,posY17,py
setVar,rot17,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX18,px
setVar,posY18,py
setVar,rot18,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX19,px
setVar,posY19,py
setVar,rot19,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX20,px
setVar,posY20,py
setVar,rot20,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX21,px
setVar,posY21,py
setVar,rot21,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX22,px
setVar,posY22,py
setVar,rot22,pointFrom(px>py>moonX>moonY)+20

setVar,aimAngle,aimAngle+15
setVar,px,moonX+razerDst*cos(aimAngle)
setVar,py,moonY+razerDst*sin(aimAngle)
setVar,posX23,px
setVar,posY23,py
setVar,rot23,pointFrom(px>py>moonX>moonY)+20


pattVars,warningDelay;0,spawnDelay;1500,eraseDelay;2100,timeBetween;0,width;20,numPoints;6,posX_0;posX12,posY_0;posY12,rot_0;rot12,posX_1;posX13,posY_1;posY13,rot_1;rot13,posX_2;posX14,posY_2;posY14,rot_2;rot14,posX_3;posX15,posY_3;posY15,rot_3;rot15,posX_4;posX16,posY_4;posY16,rot_4;rot16,posX_5;posX17,posY_5;posY17,rot_5;rot17
pattAdd,bp_ray_multi_slice
pattVars,posX_0;posX18,posY_0;posY18,rot_0;rot18,posX_1;posX19,posY_1;posY19,rot_1;rot19,posX_2;posX20,posY_2;posY20,rot_2;rot20,posX_3;posX21,posY_3;posY21,rot_3;rot21,posX_4;posX22,posY_4;posY22,rot_4;rot22,posX_5;posX23,posY_5;posY23,rot_5;rot23,
pattAdd,bp_ray_multi_slice

time,2500
setVar,enRand,random(20)-10
pattVars,spawnDelay;0,spawnDelay;0,angle;enRand,offset;0,ringNum;4,spd_0;14,spd_1;10,spd_2;6,spd_3;2,num;1,type;0
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-120
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-100
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-80
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-60
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-40
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand-20
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+120
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+100
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+80
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+60
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+40
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;enRand+20
pattAddPos,bp_fire2_blast,enemyX,enemyY




####################################################################
####################################################################
newPattern,mbp_rabbit_queen_20m
time,0


time,3000
pattVars,warningDelay;0,spawnDelay;2000,radius;750,numPoints;1,posX_0;enemyX,posY_0;enemyY
pattAdd,bp_circle_position


timeRepeating,5000,15000
pattAdd,mbp_rabbit_queen_21m
condHpThreshold,0.32
endPattern


####################################################################
####################################################################
newPattern,mbp_rabbit_queen_21m
time,0
anim,0,100,14000
setVar,shotAngle,random(90)
setVar,shotAngle2,random(90)
setVar,baseShot1Spd,6
setVar,baseShot2Spd,5
setVar,baseShot3Spd,10
setVar,baseShot4Spd,9
setVar,patternRand,irandom(1)
condHpThreshold,0.32
pattAdd,mbp_rabbit_queen_30m
endPattern

timeRepeatTimes,100,240,62
pattVarReset
pattVars,warningDelay;120,spawnDelay;120,showWarning;false,ringNum;2,spd_0;baseShot1Spd+random(1),spd_1;baseShot2Spd+random(1),num;4,type;1,angle;shotAngle+random(9),offset;0
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,warningDelay;240,spawnDelay;240,angle;shotAngle+4+random(9),spd;baseShot1Spd+random(1)
pattAddPos,bp_fire2_blast,enemyX,enemyY
setVar,shotAngle,shotAngle+12

timeRepeatTimes,300,240,40
pattVarReset
pattVars,warningDelay;120,spawnDelay;120,showWarning;false,ringNum;2,spd_0;baseShot3Spd+random(1),spd_1;baseShot4Spd+random(1),num;4,type;1,angle;-shotAngle2-random(9),offset;0
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,warningDelay;240,spawnDelay;240,angle;-shotAngle2-9-random(9),spd_0;baseShot3Spd+random(1),spd_1;baseShot4Spd+random(1)
pattAddPos,bp_fire2_blast,enemyX,enemyY
setVar,shotAngle2,shotAngle2+18

timeRepeatTimes,500,2000,7
pattVarReset
pattVars,warningDelay;0,spawnDelay;0,showWarning;false,angle;-180,lineAngle;90,lineLength;bfHeight/2,num;15,spd;4,type;0
pattAddPos,bp_dark2_line,enemyX+random(150),bfMinY-random(150)

timeRepeatTimes,1500,2000,7
pattVarReset
pattVars,warningDelay;0,spawnDelay;0,showWarning;false,angle;-180,lineAngle;90,lineLength;bfHeight/2,num;15,spd;4,type;0
pattAddPos,bp_dark2_line,enemyX+random(150),bfCenterY+random(150)



time,11000
condVarCheck,patternRand,==,0
pattVarReset
orderBinChaos,2
pattVars,warningDelay;0,spawnDelay;3500,hasFixed;false,element;blue,radius;300,trgBinary;orderBin0,warnMsg;1,displayNumber;0
pattAdd,bp_colormatch
pattVars,warningDelay;0,spawnDelay;3500,hasFixed;false,element;red,radius;300,trgBinary;orderBin1,warnMsg;1,displayNumber;0
pattAdd,bp_colormatch

time,11500
condVarCheck,patternRand,==,1
pattVarReset
pattVars,warningDelay;0,spawnDelay;3000,warningDelay2;2500,radius;200,fanAngle;19,trgBinary;all,warnMsg;2,displayNumber;0
pattAddPos,bp_clockspot,bfMinX+200,bfCenterY
setVar,shotAngle2,random(360)


####################################################################
####################################################################
newPattern,mbp_rabbit_queen_20m2v
time,0
erasePatterns

time,1500
move,bfCenterX,bfCenterY,1000

time,3000
pattAdd,mbp_rabbit_queen_21m2v



####################################################################
####################################################################
newPattern,mbp_rabbit_queen_21m2v
time,0
setVar,shotRand,0
setVar,lineShotCnt,diffSwitch(12>22>22)
pattVars,refRad;200,refPizza;180/6,refStartAng;0,refShotCnt;7,refDelay;2500
pattAdd,mbp_hotoke_first
pattVars,refRad;500,refPizza;180/8,refStartAng;0,refShotCnt;9-5,refDelay;2500
pattAdd,mbp_hotoke_first
pattVars,refRad;500,refPizza;180/8,refStartAng;(180/8)*(9-5),refShotCnt;5,refDelay;2500
pattAdd,mbp_hotoke_first
pattVars,refRad;800,refPizza;180/10,refStartAng;0,refShotCnt;11-5,refDelay;2700
pattAdd,mbp_hotoke_first
pattVars,refRad;800,refPizza;180/10,refStartAng;(180/10)*(11-5),refShotCnt;5,refDelay;2700
pattAdd,mbp_hotoke_first

timeRepeating,2000,1100
pattVars,warningDelay;0,spawnDelay;0,showWarning;0,type;2,lineAngle;0,lineLength;bfWidth+100,angle;90,num;lineShotCnt+irandom(5),spdMin;2,spdMax;4,rand;random(10000),
pattAddPos,bp_dark2_line_randomized,bfMinX-random(100),bfMinY-random(250)
condHpThreshold,0.32
pattAdd,mbp_rabbit_queen_30m
endPattern

timeRepeating,3000,4000
pattVars,refShotRand;shotRand
pattAdd,mbp_hotoke_parent
setVar,shotRand,shotRand+4
condDifficultyCheck,false,false,true
pattAdd,mbp_hotoke_extra


####################################################################
####################################################################
newPattern,mbp_hotoke_parent
time,0
setVar,shotRand,refShotRand
condVarCheck,shotRand,>=,20
setVar,shotRand,20

time,100
pattVars,refRad;200,refPizza;180/6,refStartAng;0,refShotCnt;7,refDelay;3300-100,refWidth;40,refRand;shotRand
pattAdd,mbp_hotoke
time,800
pattVars,refRad;500,refPizza;180/8,refStartAng;0,refShotCnt;9-5,refDelay;3300-800,refWidth;40,refRand;shotRand
pattAdd,mbp_hotoke
time,1600
pattVars,refRad;500,refPizza;180/8,refStartAng;(180/8)*(9-5),refShotCnt;5,refDelay;3300-1600,refWidth;40,refRand;shotRand
pattAdd,mbp_hotoke
time,2400
pattVars,refRad;800,refPizza;180/10,refStartAng;0,refShotCnt;11-5,refDelay;3300-2400,refWidth;40,refRand;shotRand
pattAdd,mbp_hotoke
time,3200
pattVars,refRad;800,refPizza;180/10,refStartAng;(180/10)*(11-5),refShotCnt;5,refDelay;3300-3200,refWidth;40,refRand;shotRand
pattAdd,mbp_hotoke

####################################################################
####################################################################
newPattern,mbp_hotoke_extra
time,0
setVar,randPattern,irandom(1)

time,3200
condVarCheck,randPattern,==,0
orderBinRandom,1,1,1,1
setVar,targetP,randomTargetId(orderBin0)
setVar,px,playerXPos(targetP)
setVar,py,playerYPos(targetP)
setvar,toward,pointFrom(bfCenterX>bfMinY+100>px>py)
pattVars,warningDelay;100,spawnDelay;2100,fanAngle;20,trgBinary;all,numCones;1,rot_0;toward
pattAddPos,bp_cone_direction,bfCenterX,bfMinY+100
pattVars,warningDelay;100,spawnDelay;2100,eraseDelay;3100,scale;1,type;1,numPoints;1,posX_0;bfCenterX,posY_0;bfMinY+100
pattAdd,bp_dark_targeted


time,3300
condVarCheck,randPattern,==,1
orderBinRandom,1,1,1,1
setVar,targetP,randomTargetId(orderBin0)
setVar,px,playerXPos(targetP)
setVar,py,playerYPos(targetP)
pattVars,warningDelay;0,spawnDelay;2000,timeBetween;500,angle;0,width;200,widthInc;200,num;2
pattAddPos,bp_ray_enlarge_single,bfMinX-300,py


####################################################################
####################################################################
newPattern,mbp_hotoke_first
time,0
setVar,rad,refRad
setVar,pizza,refPizza
setVar,startAng,refStartAng
setVar,shotCnt,refShotCnt
setVar,baseDelay,refDelay

setVar,baseX,bfCenterX
setVar,baseY,bfMinY+100

setVar,aimAngle,startAng
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX0,px
setVar,posY0,py

setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX1,px
setVar,posY1,py

setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX2,px
setVar,posY2,py

setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX3,px
setVar,posY3,py

setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX4,px
setVar,posY4,py

setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX5,px
setVar,posY5,py

setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX6,px
setVar,posY6,py

setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX7,px
setVar,posY7,py

pattVars,warningDelay;0,spawnDelay;2000,eraseDelay;999000,scale;0.35,type;1,numPoints;shotCnt,posX_0;posX0,posY_0;posY0,posX_1;posX1,posY_1;posY1,posX_2;posX2,posY_2;posY2,posX_3;posX3,posY_3;posY3,posX_4;posX4,posY_4;posY4,posX_5;posX5,posY_5;posY5,posX_6;posX6,posY_6;posY6,posX_7;posX7,posY_7;posY7
pattAdd,bp_dark_targeted


####################################################################
####################################################################
newPattern,mbp_hotoke
time,0
setVar,rad,refRad
setVar,pizza,refPizza
setVar,startAng,refStartAng
setVar,shotCnt,refShotCnt
setVar,baseDelay,refDelay
setVar,razerWidth,refWidth
setVar,baseRand,refRand

setVar,baseX,bfCenterX
setVar,baseY,bfMinY+100

condVarCheck,shotCnt,>=,1
setVar,aimAngle,startAng
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX0,px
setVar,posY0,py
setVar,rot0,aimAngle+random(baseRand)-baseRand/2
pattVars,warningDelay;baseDelay,spawnDelay;baseDelay+2000,eraseDelay;baseDelay+3500,angle;rot0,width;razerWidth
pattAddPos,bp_ray_single,posX0,posY0

condVarCheck,shotCnt,>=,2
setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX1,px
setVar,posY1,py
setVar,rot1,aimAngle+random(baseRand)-baseRand/2
pattVars,angle;rot1
pattAddPos,bp_ray_single,posX1,posY1

condVarCheck,shotCnt,>=,3
setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX2,px
setVar,posY2,py
setVar,rot2,aimAngle+random(baseRand)-baseRand/2
pattVars,angle;rot2
pattAddPos,bp_ray_single,posX2,posY2

condVarCheck,shotCnt,>=,4
setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX3,px
setVar,posY3,py
setVar,rot3,aimAngle+random(baseRand)-baseRand/2
pattVars,angle;rot3
pattAddPos,bp_ray_single,posX3,posY3

condVarCheck,shotCnt,>=,5
setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX4,px
setVar,posY4,py
setVar,rot4,aimAngle+random(baseRand)-baseRand/2
pattVars,angle;rot4
pattAddPos,bp_ray_single,posX4,posY4

condVarCheck,shotCnt,>=,6
setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX5,px
setVar,posY5,py
setVar,rot5,aimAngle+random(baseRand)-baseRand/2
pattVars,angle;rot5
pattAddPos,bp_ray_single,posX5,posY5

condVarCheck,shotCnt,>=,7
setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX6,px
setVar,posY6,py
setVar,rot6,aimAngle+random(baseRand)-baseRand/2
pattVars,angle;rot6
pattAddPos,bp_ray_single,posX6,posY6

condVarCheck,shotCnt,>=,8
setVar,aimAngle,aimAngle+pizza
setVar,px,baseX+rad*cos(aimAngle)
setVar,py,baseY+rad*sin(aimAngle)
setVar,posX7,px
setVar,posY7,py
setVar,rot7,aimAngle+random(baseRand)-baseRand/2
pattVars,angle;rot7
pattAddPos,bp_ray_single,posX7,posY7


##pattVars,warningDelay;baseDelay,spawnDelay;baseDelay+2000,eraseDelay;baseDelay+2100,timeBetween;0,width;razerWidth,numPoints;shotCnt,posX_0;posX0,posY_0;posY0,rot_0;rot0,posX_1;posX1,posY_1;posY1,rot_1;rot1,posX_2;posX2,posY_2;posY2,rot_2;rot2,posX_3;posX3,posY_3;posY3,rot_3;rot3,posX_4;posX4,posY_4;posY4,rot_4;rot4,posX_5;posX5,posY_5;posY5,rot_5;rot5,posX_6;posX6,posY_6;posY6,rot_6;rot6,posX_7;posX7,posY_7;posY7,rot_7;rot7,
##pattAdd,bp_ray_multi_slice


####################################################################
####################################################################
newPattern,mbp_rabbit_queen_30m
time,0
erasePatterns

time,4000
move,bfCenterX,bfCenterY-300,600
pattVarReset
pattVars,warningDelay;0,spawnDelay;3000,trgBinary;all,radius;500,horizontal;true,warnMsg;2,lifespan;300,kbAmount;800
pattAddPos,bp_knockback_line,bfCenterX,bfMinY

time,5000
pattVars,warningDelay;0,spawnDelay;2000,eraseDelay;10000,scale;1.6,type;1,numPoints;1,posX_0;enemyX,posY_0;enemyY
pattAdd,bp_dark_targeted
pattVars,warningDelay;0,spawnDelay;2000,eraseDelay;10000,scale;0.5,type;1,numPoints;1,posX_0;bfCenterX-(bfWidth*(3/10)),posY_0;bfCenterY-300
pattAdd,bp_dark_targeted
pattVars,warningDelay;0,spawnDelay;2000,eraseDelay;10000,scale;0.5,type;1,numPoints;1,posX_0;bfCenterX+(bfWidth*(3/10)),posY_0;bfCenterY-300
pattAdd,bp_dark_targeted

time,6000
##pattVars,spawnDelay;0,trgBinary;all,element;0,width;bfWidth*(1/2),height;bfHeight,
##pattAddPos,bp_fieldlimit_rectangle,bfCenterX,bfCenterY
pattVars,refLimitColor;0
pattAdd,mbp_limit_common

pattAdd,mbp_rabbit_queen_32m


timeRepeating,8000,10000
pattAdd,mbp_rabbit_queen_31m
condHpThreshold,0.01
endPattern

####################################################################
####################################################################
newPattern,mbp_rabbit_queen_31m
time,0
condHpThreshold,0.01
pattAdd,mbp_rabbit_queen_90m
endPattern

time,100
orderBinRandom,1,1,1,1
setVar,targetId,randomTargetId(orderBin0)
setVar,leftSideX,bfCenterX-(bfWidth*(3/10))
setVar,rightSideX,bfCenterX+(bfWidth*(3/10))
setVar,shotY,bfCenterY-300
setVar,dist,bfWidth
setVar,maxCnt,diffSwitch(2>3>3)
pattVars,spawnDelay;0,eraseDelay;9000,timeBetween;9000,orderBin_0;orderBin0
pattAdd,bp_showorder

setVar,cnt,0

timeRepeatTimes,1000,250,36
setVar,cnt,cnt+1
condVarCheck,cnt,>,0
setVar,targetX,playerXPos(targetId)
setVar,targetY,playerYPos(targetId)
setVar,shotAngle,pointFrom(leftSideX>shotY>targetX>targetY)
pattVars,warningDelay;0,spawnDelay;0,showWarning;false,angle;shotAngle,lineAngle;shotAngle,lineLength;100,num;2,spd;6,type;1
pattAddPos,bp_light_line,leftSideX,shotY

setVar,shotAngle,pointFrom(rightSideX>shotY>targetX>targetY)
pattVars,angle;shotAngle,lineAngle;shotAngle
pattAddPos,bp_light_line,rightSideX,shotY
condVarCheck,cnt,>=,maxCnt
setVar,cnt,-3



####################################################################
####################################################################
newPattern,mbp_rabbit_queen_32m
time,0
setVar,t,0
setVar,seed,random(23)

timeRepeating,1000,400
pattVarReset
setVar,wave,t/10
setVar,waveAngle,11.25*wave
pattVars,warningDelay;200,spawnDelay;200,showWarning;false,ringNum;1,spd_0;4.6,num;16,type;1,angle;seed+waveAngle,offset;0
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,warningDelay;400,spawnDelay;400,showWarning;false,ringNum;1,spd_0;4.6,num;16,type;1,angle;seed-waveAngle,offset;0
pattAddPos,bp_fire2_blast,enemyX,enemyY
setVar,t,t+2

condVarCheck,t,>=,20
setVar,t,t-20

condHpThreshold,0.01
endPattern

####################################################################
####################################################################
newPattern,mbp_rabbit_queen_90m
time,5000
move,bfCenterX,bfMinY+100,1000
pattAdd,mbp_last_spell_84

time,7000
pattVars,warningDelay;0,spawnDelay;2000,radius;500,numPoints;1,posX_0;enemyX,posY_0;enemyY
pattAdd,bp_circle_position

timeRepeatTimes,9000,1000,17
pattAdd,mbp_yoake2

timeRepeatTimes,13000,1000,17
pattAdd,mbp_yoake1


time,17000
pattAdd,mbp_yoake3


timeRepeatTimes,25000,5000,2
pattAdd,mbp_yoake4
pattAdd,mbp_yoake5

timeRepeatTimes,26000,2000,4
pattAdd,mbp_yoake6


timeRepeatTimes,32000,6000,2
pattAdd,mbp_yoake9

time,33000
pattAdd,mbp_yoake10


time,37000
pattAdd,mbp_yoake10


time,42000
pattAdd,mbp_yoake12

timeRepeatTimes,46000,1500,4
pattAdd,mbp_yoake14

time,50000
pattAdd,mbp_yoake8

time,51000
pattAdd,mbp_yoake13

time,52000
pattAdd,mbp_yoake15

time,53000
pattAdd,mbp_yoake16

time,55000
pattAdd,mbp_yoake13

time,59000
pattAdd,mbp_yoake13

time,60000
pattAdd,mbp_yoake8r

time,61000
pattAdd,mbp_yoake17

time,62000
pattAdd,mbp_yoake18

time,63000
pattAdd,mbp_yoake11

time,70000
pattAdd,mbp_yoake19

time,89000
pattAdd,mbp_unowen_end

####################################################################
####################################################################
newPattern,mbp_yoake1
time,0
pattVars,warningDelay;0,spawnDelay;0,showWarning;false,ringNum;1,spd_0;8,num;30,angle;random(360),type;1,offset;0,
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,offset;40,
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,offset;80,
pattAddPos,bp_fire2_blast,enemyX,enemyY

####################################################################
####################################################################
newPattern,mbp_yoake2
time,0
setVar,shotSpd,4.6
pattVars,warningDelay;0,spawnDelay;0,showWarning;false,ringNum;1,spd_0;shotSpd,num;40,angle;random(360),type;0
pattAddPos,bp_fire2_blast,enemyX,enemyY



####################################################################
####################################################################
newPattern,mbp_yoake3
time,0
setVar,space,2.5
setVar,spdDiff,0.3
setVar,baseSpd,6
setVar,bulletNum,18
setVar,rAngle,random(360)
timeRepeatTimes,1000,2000,4
pattVarReset
pattVars,spawnDelay;0,spd;baseSpd,num;bulletNum,angle;rAngle,type;0,offset;0,
pattAddPos,bp_dark2_blast,enemyX,enemyY
pattVars,angle;rAngle+space*1,spd;baseSpd+spdDiff*1
pattAddPos,bp_dark2_blast,enemyX,enemyY
pattVars,angle;rAngle+space*2,spd;baseSpd+spdDiff*2
pattAddPos,bp_dark2_blast,enemyX,enemyY
pattVars,angle;rAngle+space*3,spd;baseSpd+spdDiff*3
pattAddPos,bp_dark2_blast,enemyX,enemyY
pattVars,angle;rAngle+space*4,spd;baseSpd+spdDiff*4
pattAddPos,bp_dark2_blast,enemyX,enemyY

pattVarReset
pattVars,spawnDelay;900,spd;baseSpd+spdDiff*5,num;bulletNum,angle;rAngle,type;0,offset;0,
pattAddPos,bp_dark2_blast,enemyX,enemyY
pattVars,angle;rAngle+space*1,spd;baseSpd+spdDiff*4
pattAddPos,bp_dark2_blast,enemyX,enemyY
pattVars,angle;rAngle+space*2,spd;baseSpd+spdDiff*3
pattAddPos,bp_dark2_blast,enemyX,enemyY
pattVars,angle;rAngle+space*3,spd;baseSpd+spdDiff*2
pattAddPos,bp_dark2_blast,enemyX,enemyY
pattVars,angle;rAngle+space*4,spd;baseSpd+spdDiff*1
pattAddPos,bp_dark2_blast,enemyX,enemyY



####################################################################
####################################################################
newPattern,mbp_yoake4
time,0
setVar,padding,bfHeight/6
setVar,sDelayBase,300
setVar,baseX,-300
setVar,fireLength,400
setVar,baseAngle,25

pattVarReset,
pattVars,warningDelay;0,spawnDelay;sDelayBase*5,showWarning;false,angle;0+baseAngle,lineAngle;0,lineLength;fireLength,num;10,spd;8,
##pattAddPos,bp_fire2_line,bfMinX+baseX,bfMinY+padding*0
pattVars,warningDelay;0,spawnDelay;sDelayBase*4
pattAddPos,bp_fire2_line,bfMinX+baseX,bfMinY+padding*1
pattVars,warningDelay;0,spawnDelay;sDelayBase*3
pattAddPos,bp_fire2_line,bfMinX+baseX,bfMinY+padding*2
pattVars,warningDelay;0,spawnDelay;sDelayBase*2
pattAddPos,bp_fire2_line,bfMinX+baseX,bfMinY+padding*3
pattVars,warningDelay;0,spawnDelay;sDelayBase*1
pattAddPos,bp_fire2_line,bfMinX+baseX,bfMinY+padding*4
pattVars,warningDelay;0,spawnDelay;sDelayBase*0
pattAddPos,bp_fire2_line,bfMinX+baseX,bfMinY+padding*5

time,2500
setVar,padding,bfHeight/6
setVar,sDelayBase,300
setVar,baseX,-300

pattVarReset,
pattVars,warningDelay;0,spawnDelay;sDelayBase*5,showWarning;false,angle;180-baseAngle,lineAngle;0,lineLength;fireLength,num;10,spd;8,
##pattAddPos,bp_fire2_line,bfMaxX-baseX-fireLength,bfMinY+padding*0+padding/2
pattVars,warningDelay;0,spawnDelay;sDelayBase*4
pattAddPos,bp_fire2_line,bfMaxX-baseX-fireLength,bfMinY+padding*1+padding/2
pattVars,warningDelay;0,spawnDelay;sDelayBase*3
pattAddPos,bp_fire2_line,bfMaxX-baseX-fireLength,bfMinY+padding*2+padding/2
pattVars,warningDelay;0,spawnDelay;sDelayBase*2
pattAddPos,bp_fire2_line,bfMaxX-baseX-fireLength,bfMinY+padding*3+padding/2
pattVars,warningDelay;0,spawnDelay;sDelayBase*1
pattAddPos,bp_fire2_line,bfMaxX-baseX-fireLength,bfMinY+padding*4+padding/2



####################################################################
####################################################################
newPattern,mbp_yoake5
time,0
pattVars,warningDelay;0,spawnDelay;1000,showWarning;false,ringNum;1,spd_0;4,num;32,angle;random(360),type;0,offset;0,
pattAddPos,bp_fire2_blast,bfCenterX+random(bfWidth/2)-bfWidth/4,bfMinY-200
pattVars,warningDelay;0,spawnDelay;1500,showWarning;false,ringNum;1,spd_0;4,num;28,angle;random(360),type;0,offset;0,
pattAddPos,bp_fire2_blast,bfCenterX+random(bfWidth/2)-bfWidth/4,bfMinY-200
pattVars,warningDelay;0,spawnDelay;2000,showWarning;false,ringNum;1,spd_0;4,num;32,angle;random(360),type;0,offset;0,
pattAddPos,bp_fire2_blast,bfCenterX+random(bfWidth/2)-bfWidth/4,bfMinY-200
pattVars,warningDelay;0,spawnDelay;2500,showWarning;false,ringNum;1,spd_0;4,num;28,angle;random(360),type;0,offset;0,
pattAddPos,bp_fire2_blast,bfCenterX+random(bfWidth/2)-bfWidth/4,bfMinY-200


####################################################################
####################################################################
newPattern,mbp_yoake6
time,0
setVar,baseLineWidth,bfWidth+300
setVar,baseRand,random(50)
pattVars,warningDelay;0,spawnDelay;0,showWarning;false,angle;100,lineAngle;0,lineLength;baseLineWidth,num;25,spd;4.0,type;0,
pattAddPos,bp_dark2_line,bfMinX-200-baseRand,bfMinY-20


####################################################################
####################################################################
newPattern,mbp_yoake8
time,0
setVar,shotAngle,-360+random(90)
setVar,sign,randomSign
timeRepeatTimes,50,130,75
pattVarReset
pattVars,spawnDelay;0,type;0,offset;0,num;4,spd;3+random(0.4),angle;shotAngle+random(5),
pattAddPos,bp_dark2_blast,enemyX,enemyY
setVar,shotAngle,shotAngle+(14*sign)

####################################################################
####################################################################
newPattern,mbp_yoake8r
time,0
setVar,shotAngle,-999+random(90)
setVar,sign,1
timeRepeating,50,140
pattVarReset
pattVars,spawnDelay;0,type;0,offset;0,num;4,spd;7+random(1),angle;shotAngle+random(5),
pattAddPos,bp_dark2_blast,enemyX,enemyY
setVar,shotAngle,shotAngle+(14*sign)

####################################################################
####################################################################
newPattern,mbp_yoake9
time,0
setVar,spaceX,bfWidth*(3/5)/4
setVar,startX,bfCenterX-bfWidth*(3/5)/2
pattVars,warningDelay;0,spawnDelay;2000,eraseDelay;3500,width;80,angle;90
pattAddPos,bp_ray_single,startX+0*spaceX,bfMinY-100
pattAddPos,bp_ray_single,startX+4*spaceX,bfMinY-100
pattVars,warningDelay;400,spawnDelay;2400,eraseDelay;3900
pattAddPos,bp_ray_single,startX+1*spaceX,bfMinY-100
pattAddPos,bp_ray_single,startX+3*spaceX,bfMinY-100
pattVars,warningDelay;800,spawnDelay;2800,eraseDelay;4300
pattAddPos,bp_ray_single,startX+2*spaceX,bfMinY-100


####################################################################
####################################################################
newPattern,mbp_yoake10
time,0
pattVarReset
setVar,x2,bfCenterX-bfWidth*(3/5)/2
setVar,y2,bfMaxY
setVar,t2,pointFrom(enemyX>enemyY>x2>y2)
setVar,x3,bfCenterX+bfWidth*(3/5)/2
setVar,y3,bfMaxY
setVar,t3,pointFrom(enemyX>enemyY>x3>y3)

pattVars,warningDelay;1000,spawnDelay;3100,timeBetween;2000,scale;0.8,numPoints;2,posX_0;enemyX,posY_0;enemyY
pattVars,posX_1;x2,posY_1;y2,
pattAdd,bp_marching_bullet
pattVars,posX_1;x3,posY_1;y3,
pattAdd,bp_marching_bullet

setVar,razerDst,bfHeight+500
setVar,timesIdx,0
setVar,myAngle,random(360)
setVar,spaceD,razerDst/21
setVar,myDst,-spaceD
setVar,myDstEx,spaceD/2
setVar,baseDelay,3000
setVar,bulletNum,4

timeRepeatTimes,100,200,17
setVar,baseDelay,baseDelay-75
setVar,myDst,myDst+spaceD
setVar,timesIdx,timesIdx+1
setVar,myAngle,myAngle+18
setVar,myAngleEx,myAngle+9
pattVars,warningDelay;baseDelay,spawnDelay;baseDelay,showWarning;0,ringNum;1,spd_0;3.5,num;bulletNum,angle;myAngle,type;1,offset;0
setVar,aimAngle,t2
pattVars,angle;myAngle,spawnDelay;baseDelay
pattAddPos,bp_fire2_blast,enemyX+myDst*cos(aimAngle),enemyY+myDst*sin(aimAngle)
setVar,aimAngle,t3
pattVars,angle;myAngle,spawnDelay;baseDelay
pattAddPos,bp_fire2_blast,enemyX+myDst*cos(aimAngle),enemyY+myDst*sin(aimAngle)








####################################################################
####################################################################
newPattern,mbp_yoake11
time,0
setVar,myAngle,random(360)
setVar,myAngleEx,myAngle
setVar,posX0,enemyX-500
setVar,posY0,enemyY+200
setVar,posX1,enemyX+500
setVar,posY1,enemyY+200
pattVars,warningDelay;0,spawnDelay;1000,eraseDelay;55000,scale;0.5,type;1,numPoints;2,posX_0;posX0,posY_0;posY0,posX_1;posX1,posY_1;posY1
pattAdd,bp_dark_targeted
timeRepeating,1000,300
setVar,addRand,15+random(1)
setVar,myAngle,myAngle+addRand
setVar,myAngleEx,myAngleEx+addRand+5
pattVars,warningDelay;150,spawnDelay;150,showWarning;0,ringNum;5,spd_0;6,spd_1;7,spd_2;8,spd_3;6.5,spd_4;7.5,num;2,angle;myAngleEx,type;1,offset;0
pattAddPos,bp_fire2_blast,posX0,posY0
pattVars,angle;180-myAngleEx,
pattAddPos,bp_fire2_blast,posX1,posY1

condVarCheck,myAngleEx,>=,360
setVar,myAngleEx,myAngleEx-360
condVarCheck,myAngle,>=,360
setVar,myAngle,myAngle-360

####################################################################
####################################################################
newPattern,mbp_yoake12

time,0
setVar,radi,500
setVar,bulletNum,38
setVar,bulletSpd,4
timeRepeatTimes,100,1100,10
pattVarReset
pattVars,warningDelay;0,spawnDelay;0,angle;random(360),radius;radi,spd;bulletSpd,element;blue,doubled;false,warnMsg;0,number;bulletNum-6
pattAddPos,bp_prscircle,enemyX,enemyY
pattVars,warningDelay;0,spawnDelay;1200,radius;radi,numPoints;1,posX_0;enemyX,posY_0;enemyY
pattAdd,bp_circle_position


####################################################################
####################################################################
newPattern,mbp_yoake13

time,0
pattVars,warningDelay;0,spawnDelay;0,showWarning;0,type;2,lineAngle;0,lineLength;bfWidth+100,angle;90,num;15,spdMin;9,spdMax;14,rand;random(10000),
pattAddPos,bp_dark2_line_randomized,bfMinX-random(90),bfMinY
pattVars,warningDelay;500,spawnDelay;500,num;15,spdMin;9,spdMax;14,rand;random(10000),
pattAddPos,bp_dark2_line_randomized,bfMinX-random(90),bfMinY
pattVars,warningDelay;1000,spawnDelay;1000,num;15,spdMin;9,spdMax;14,rand;random(10000),
pattAddPos,bp_dark2_line_randomized,bfMinX-random(90),bfMinY

####################################################################
####################################################################
newPattern,mbp_yoake14
time,0
orderBinRandom,1,1,1,1
setVar,targetP,randomTargetId(orderBin0)
setVar,ringScale,300
setVar,ringBase,60

setVar,px,playerXPos(targetP)
setVar,py,playerYPos(targetP)
pattVarReset
setVar,ringIdx,0
setVar,posX0,bfMinX+ringIdx*(bfWidth/4)
setVar,posY0,bfMinY
setVar,rot0,pointFrom(posX0>posY0>px>py)

setVar,ringIdx,1
setVar,posX1,bfMinX+ringIdx*(bfWidth/4)
setVar,posY1,bfMinY
setVar,rot1,pointFrom(posX1>posY1>px>py)

setVar,ringIdx,2
setVar,posX2,bfMinX+ringIdx*(bfWidth/4)
setVar,posY2,bfMinY
setVar,rot2,pointFrom(posX2>posY2>px>py)

setVar,ringIdx,3
setVar,posX3,bfMinX+ringIdx*(bfWidth/4)
setVar,posY3,bfMinY
setVar,rot3,pointFrom(posX3>posY3>px>py)

setVar,ringIdx,4
setVar,posX4,bfMinX+ringIdx*(bfWidth/4)
setVar,posY4,bfMinY
setVar,rot4,pointFrom(posX4>posY4>px>py)

pattVars,warningDelay;0,spawnDelay;1000,eraseDelay;2500,timeBetween;0,width;60,numPoints;5,posX_0;posX0,posY_0;posY0,rot_0;rot0,posX_1;posX1,posY_1;posY1,rot_1;rot1,posX_2;posX2,posY_2;posY2,rot_2;rot2,posX_3;posX3,posY_3;posY3,rot_3;rot3,posX_4;posX4,posY_4;posY4,rot_4;rot4
pattAdd,bp_ray_multi_slice

####################################################################
####################################################################
newPattern,mbp_yoake15
time,0
setVar,moonScale,1

timeRepeatTimes,0,4500,2
pattVarReset
setVar,targetP,randomTargetId(all)
setVar,px,playerXPos(targetP)
setVar,py,playerYPos(targetP)
setVar,moonAngle,pointFrom(enemyX>enemyY>px>py)

pattVars,warningDelay;0,spawnDelay;1000,scale;moonScale,spd;3,dir;moonAngle
pattAddPos,bp_dark_moon_summon,enemyX,enemyY
pattVars,dir;moonAngle+40
pattAddPos,bp_dark_moon_summon,enemyX,enemyY
pattVars,dir;moonAngle-40
pattAddPos,bp_dark_moon_summon,enemyX,enemyY

setVar,moonScale,moonScale+0.01
condHpThreshold,0.01
endPattern

####################################################################
####################################################################
newPattern,mbp_yoake16
timeRepeating,0,5000
pattVarReset
setVar,bulletNum,24
setVar,targetAngle,random(360)
pattVars,warningDelay;1000,spawnDelay;1000,showWarning;0,ringNum;4,spd_0;3,spd_1;4,spd_2;5,spd_3;6,num;bulletNum,angle;targetAngle,type;1
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,spawnDelay;1100,spd_0;7,spd_1;8,spd_2;9,spd_3;10
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,spawnDelay;1200,ringNum;3,spd_0;11,spd_1;12,spd_2;13
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,spawnDelay;1300,ringNum;3,spd_0;14,spd_1;15,spd_2;16
pattAddPos,bp_fire2_blast,enemyX,enemyY

####################################################################
####################################################################
newPattern,mbp_yoake17
time,0
setVar,shotRand,random(360)
timeRepeating,1000,2500
pattVars,warningDelay;0,spawnDelay;0,showWarning;false,ringNum;1,spd_0;4,num;20,angle;shotRand,type;2,
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;shotRand+1,
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,angle;shotRand+2,
pattAddPos,bp_fire2_blast,enemyX,enemyY



####################################################################
####################################################################
newPattern,mbp_yoake18
timeRepeating,0,4000
setVar,starRand,random(360)
pattVars,warningDelay;1500,spawnDelay;1500,angle;starRand,radius;200,spd;7,element;blue,doubled;false,warnMsg;0,number;28
pattAddPos,bp_prscircle,enemyX,enemyY
pattVars,warningDelay;1500,spawnDelay;1500,angle;starRand+2,radius;200,spd;7,element;blue,doubled;false,warnMsg;0,number;28
pattAddPos,bp_prscircle,enemyX,enemyY

####################################################################
####################################################################
newPattern,mbp_yoake19
time,0
setVar,baseCnt,6
timeRepeating,100,2000
setVar,baseCnt,baseCnt+2
pattVars,warningDelay;0,spawnDelay;0,showWarning;false,ringNum;1,spd_0;10,num;baseCnt+5,angle;random(360),type;0
pattAddPos,bp_fire2_blast,enemyX,enemyY
pattVars,ringNum;2,spd_0;6,spd_1;8,num;baseCnt,angle;random(360),type;1
pattAddPos,bp_fire2_blast,enemyX,enemyY
